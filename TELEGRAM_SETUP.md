# إعداد التقرير اليومي التلقائي للتلغرام

## الخطوات المطلوبة:

### 1. إنشاء بوت تلغرام
1. افتح تطبيق تلغرام وابحث عن `@BotFather`
2. أرسل الأمر `/newbot`
3. اتبع التعليمات لإنشاء البوت
4. احفظ الـ Token الذي سيعطيك إياه

### 2. الحصول على Chat ID
1. أضف البوت إلى المجموعة المطلوبة
2. أرسل رسالة في المجموعة
3. افتح الرابط التالي في المتصفح (استبدل YOUR_BOT_TOKEN بالتوكن الخاص بك):
   ```
   https://api.telegram.org/botYOUR_BOT_TOKEN/getUpdates
   ```
4. ابحث عن `"chat":{"id":` واحفظ الرقم

### 3. إضافة البيانات إلى ملف .env
أضف السطرين التاليين إلى ملف `.env`:
```
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
```

### 4. تفعيل الجدولة (Scheduler)
لتشغيل الأوامر المجدولة تلقائياً، أضف السطر التالي إلى Cron:

**على Linux/Mac:**
```bash
* * * * * cd /path-to-your-project && php artisan schedule:run >> /dev/null 2>&1
```

**على Windows (Task Scheduler):**
1. افتح Task Scheduler
2. أنشئ مهمة جديدة
3. اضبطها لتعمل كل دقيقة
4. الأمر: `php`
5. المعاملات: `artisan schedule:run`
6. المسار: `C:\xampp8.2\htdocs\ayaz`

### 5. اختبار الإرسال يدوياً
لاختبار إرسال التقرير يدوياً، نفذ الأمر:
```bash
php artisan report:send-telegram
```

## الوصول إلى التقرير اليومي
يمكنك الوصول إلى التقرير اليومي من خلال الرابط:
```
http://your-domain.com/reports/daily
```

## ملاحظات:
- سيتم إرسال التقرير تلقائياً كل يوم الساعة 8 مساءً
- التقرير يتضمن: الطلبات الجديدة، المقبوضات، المشتريات، الديون لنا وعلينا
- التقرير قابل للطباعة من المتصفح
